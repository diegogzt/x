<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Una pregunta especial...</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Confetti Library -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Quicksand', sans-serif;
            overflow: hidden; /* Prevent scrolling when button moves */
        }
        .romantic-font {
            font-family: 'Pacifico', cursive;
        }
        .floating-heart {
            position: absolute;
            color: #10b981; /* Emerald 500 */
            opacity: 0.3;
            animation: float 15s infinite linear;
            z-index: -1;
        }
        @keyframes float {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            50% { opacity: 0.3; }
            100% { transform: translateY(-10vh) scale(1); opacity: 0; }
        }
        /* Button transition for smooth movement */
        #btn-no {
            transition: all 0.2s ease;
        }
    </style>
</head>
<body class="bg-green-50 h-screen w-screen flex items-center justify-center relative overflow-hidden">

    <!-- Floating Background Hearts (Generated by JS below) -->
    <div id="hearts-container"></div>

    <!-- Main Card -->
    <div class="bg-white/80 backdrop-blur-sm p-8 rounded-3xl shadow-xl border-4 border-emerald-200 max-w-md w-full mx-4 text-center relative z-10 transition-all duration-500" id="main-card">
        
        <!-- Photo Area -->
        <div class="mb-6 relative group">
            <div class="w-48 h-48 mx-auto rounded-full overflow-hidden border-4 border-emerald-400 shadow-lg relative">
                <!-- 
                   INSTRUCCIONES PARA TU FOTO:
                   Busca la lÃ­nea de abajo <img src="...">. 
                   Cambia la URL por la de tu foto real.
                -->
                <img src="https://images.unsplash.com/photo-1591951425328-48c1fe7179cd?q=80&w=600&auto=format&fit=crop" 
                     alt="Chico con flores" 
                     class="w-full h-full object-cover"
                     id="profile-pic">
            </div>
            <div class="absolute -bottom-2 right-1/4 bg-white p-2 rounded-full shadow-md text-2xl animate-bounce">
                ğŸ’
            </div>
        </div>

        <!-- Question -->
        <h1 class="romantic-font text-4xl text-emerald-700 mb-2">Hola guapa...</h1>
        <p class="text-emerald-800 text-lg font-semibold mb-8">Tengo una pregunta muy importante (y verde ğŸ’š) para ti...</p>
        
        <h2 class="text-2xl font-bold text-gray-800 mb-8">Â¿Quieres ser mi San ValentÃ­n?</h2>

        <!-- Buttons -->
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center h-20 relative">
            <button onclick="acceptProposal()" class="bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition hover:scale-110 text-xl z-20">
                Â¡SÃ­, quiero! ğŸ’š
            </button>
            
            <button id="btn-no" onmouseover="moveButton()" onclick="moveButton()" ontouchstart="moveButton()" class="bg-gray-300 text-gray-600 font-bold py-3 px-8 rounded-full shadow-md text-xl absolute sm:static">
                No :(
            </button>
        </div>
    </div>

    <!-- Success Message (Updated for your surprise) -->
    <div id="success-msg" class="hidden fixed inset-0 flex items-center justify-center z-50 bg-black/40 backdrop-blur-sm">
        <div class="bg-white p-10 rounded-3xl shadow-2xl text-center border-4 border-emerald-500 max-w-sm mx-4 animate-bounce-in">
            <div class="text-6xl mb-4">ğŸ¡ğŸ‘€ğŸ’</div>
            <h1 class="romantic-font text-4xl text-emerald-600 mb-4">Â¡SabÃ­a que dirÃ­as que sÃ­!</h1>
            
            <div class="my-6 p-4 bg-emerald-50 rounded-xl border border-emerald-200">
                <p class="text-gray-800 text-xl font-bold">Â¡Sal de casa ahora mismo!</p>
                <p class="text-emerald-700 text-lg mt-2">Hay una sorpresa esperÃ¡ndote afuera...</p>
                <p class="text-sm text-gray-500 mt-2">(Mira hacia abajo ğŸ‘‡)</p>
            </div>
            
            <button onclick="location.reload()" class="mt-2 text-sm text-gray-400 hover:text-emerald-500 underline">Volver a ver</button>
        </div>
    </div>

    <script>
        // Create floating green hearts background
        const heartsContainer = document.getElementById('hearts-container');
        const heartEmojis = ['ğŸ’š', 'ğŸŒ¿', 'ğŸ¢', 'ğŸ¸', 'ğŸ']; // Green things

        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('floating-heart');
            heart.innerText = 'ğŸ’š';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = Math.random() * 10 + 10 + 's';
            heart.style.fontSize = Math.random() * 20 + 20 + 'px';
            heartsContainer.appendChild(heart);

            setTimeout(() => {
                heart.remove();
            }, 20000);
        }

        setInterval(createHeart, 500);

        // Logic for the moving "No" button
        const btnNo = document.getElementById('btn-no');
        let isMoved = false;

        function moveButton() {
            // Get viewport dimensions
            const maxX = window.innerWidth - btnNo.clientWidth - 20;
            const maxY = window.innerHeight - btnNo.clientHeight - 20;

            // Generate random position
            const randomX = Math.floor(Math.random() * maxX);
            const randomY = Math.floor(Math.random() * maxY);

            // Apply new position using fixed positioning
            btnNo.style.position = 'fixed';
            btnNo.style.left = randomX + 'px';
            btnNo.style.top = randomY + 'px';
            
            // Add a funny phrase randomly sometimes
            const phrases = ["Â¡Uy, se moviÃ³!", "IntÃ©ntalo de nuevo", "Â¡Ups!", "Nop", "Â¡AtrÃ¡pame!"];
            if(Math.random() > 0.7) {
                btnNo.innerText = phrases[Math.floor(Math.random() * phrases.length)];
            }
        }

        // Logic for "Yes" button
        function acceptProposal() {
            // Launch confetti
            var duration = 3000;
            var end = Date.now() + duration;

            // Confetti colors (Greens and Gold)
            var colors = ['#10b981', '#34d399', '#fcd34d'];

            (function frame() {
                confetti({
                    particleCount: 5,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: colors
                });
                confetti({
                    particleCount: 5,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: colors
                });

                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            }());

            // Hide main card and show success message
            document.getElementById('main-card').style.display = 'none';
            const successMsg = document.getElementById('success-msg');
            successMsg.classList.remove('hidden');
        }
    </script>
</body>
</html>